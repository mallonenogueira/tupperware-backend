{"version":3,"sources":["styles.tsx","ScrappingTupperwareService.tsx","List.tsx","FileLoader.tsx","App.tsx","index.tsx","Extract.tsx"],"names":["cor","branco","rosa","rosaClaro","azul","azulClaro","tema","borda","concat","bordaHover","fundoInput","fundoApplication","fundoHeader","fundoBotao","borderRadius","boxShadow","defaultInput","ApplicationContainer","styled","div","_templateObject","ApplicationHeader","header","_templateObject2","ApplicationBody","main","_templateObject3","P","p","_templateObject4","Textarea","textarea","_templateObject5","Input","input","_templateObject6","Button","button","_templateObject7","props","background","StyledFileLoader","label","_templateObject8","ImageContainer","_templateObject9","imageCommons","ImageDescription","_templateObject10","ImagePrice","_templateObject11","ScrappingTupperwareResources","frameSelector","Object","classCallCheck","this","document","querySelector","myFrame","getFrame","contentDocument","Error","selector","frameDocument","getFrameDocument","el","action","errorMessage","getEl","sendElementAction","click","value","allTbody","Array","from","querySelectorAll","length","tbodyArray","filter","Boolean","i","childElementCount","map","tbody","texts","span","innerHTML","img","URL","src","pathname","handleError","_this","Promise","resolve","reject","steps","doLogout","doLogin","doRedirectToPedidos","doOpenOfertas","doExtract","currentStep","stepResponses","interval","setInterval","clearInterval","stepResponse","call","push","err","Imagem","List_templateObject","List","_ref","_ref$list","list","setSelected","react_default","a","createElement","style","flexWrap","item","index","display","margin","cursor","key","onClick","width","height","text","index2","dangerouslySetInnerHTML","__html","FileLoader","onChange","_useState","useState","_useState2","slicedToArray","file","setFile","_useState3","_useState4","fileName","setFileName","ref","useRef","useEffect","name","reader","FileReader","readAsDataURL","onload","result","base64","className","onDragOver","event","preventDefault","onDragEnter","onDrop","_ref2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","dataTransfer","files","abrupt","stop","_x","apply","arguments","onKeyUp","current","which","tabIndex","Fragment","type","target","React","useCallback","App_templateObject","PROXY_URL","getProxyUrl","url","RegExp","test","isValidUrl","App","selected","console","log","description","setDescription","_useState5","_useState6","setUrl","_useState7","_useState8","setImg","_useState9","_useState10","de","setDe","_useState11","_useState12","por","setPor","_useState13","undefined","_useState14","image","setImage","_useState15","_useState16","bg","setBg","pasteHandle","toConsumableArray","clipboardData","items","find","kind","blob","getAsFile","window","addEventListener","removeEventListener","react","maxWidth","marginRight","placeholder","data","domToImage","toPng","sent","download","t0","flex","position","top","left","App_Imagem","_len","args","_key","alt","rootElement","getElementById","render","_React$useState","_React$useState2","loading","setLoading","_React$useState3","_React$useState4","setList","_React$useState5","_React$useState6","ScrappingTupperware","start","message","then","responses","flexDirection","id"],"mappings":"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","file":"static/js/main.a0013d55.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const cor = {\n  branco: \"#FFFFFF\",\n  rosa: \"#FF686B\",\n  rosaClaro: \"#FFA69E\",\n  azul: \"#74C2AE\",\n  azulClaro: \"#A5FFD6\"\n};\n\nconst tema = {\n  borda: `solid 3px ${cor.branco}`,\n  cor: cor.branco,\n  bordaHover: cor.azulClaro,\n  fundoInput: cor.rosa,\n  fundoApplication: cor.rosaClaro,\n  fundoHeader: cor.azul,\n  fundoBotao: cor.azul,\n  borderRadius: \"10px\",\n  boxShadow: \"0px 3px 5px rgba(0, 0, 0, 0.25)\"\n};\n\nconst defaultInput = `\n  background: ${tema.fundoInput};\n  border: ${tema.borda};\n  color: ${tema.cor};\n  border-radius: ${tema.borderRadius};\n  box-shadow: ${tema.boxShadow};\n  font-size: 0.9rem;\n  padding: 15px 20px;\n  outline: 0;\n  margin: 12px;\n  width: calc(100% - 24px);\n  flex: 1;\n\n  ::placeholder {\n    color: ${tema.cor};\n  }\n\n  :hover {\n    border-color: ${tema.bordaHover};\n  }\n\n  :focus {\n    border-color: ${tema.bordaHover};\n  }\n`;\n\nexport const ApplicationContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  width: 100vw;\n  background: ${tema.fundoApplication};\n`;\n\nexport const ApplicationHeader = styled.header`\n  align-items: center;\n  background: ${tema.fundoHeader};\n  box-shadow: ${tema.boxShadow};\n  color: ${tema.cor};\n  display: flex;\n  font-weight: bold;\n  font-size: 32px;\n  height: 50px;\n  left: 0;\n  padding: 15px 40px;\n  position: sticky;\n  top: 0;\n  width: 100vw;\n`;\n\nexport const ApplicationBody = styled.main`\n  padding: 20px;\n  display: flex;\n  flex: 1;\n  overflow: auto;\n`;\n\nexport const P = styled.p`\n  color: white;\n  margin-left: 12px;\n`;\n\nexport const Textarea = styled.textarea`\n  ${defaultInput}\n  height: 100px;\n`;\n\nexport const Input = styled.input`\n  ${defaultInput}\n  height: 40px;\n`;\n\nexport const Button = styled.button<{ background?: string }>`\n  border: ${tema.borda};\n  color: ${tema.cor};\n  background: ${(props: any) => props.background || tema.fundoBotao};\n  font-size: 0.9rem;\n  padding: 0 20px;\n  height: 40px;\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n\n  border-radius: ${tema.borderRadius};\n  margin: 12px;\n  box-shadow: ${tema.boxShadow};\n\n  :hover {\n    border-color: ${tema.bordaHover};\n  }\n\n  :focus {\n    border-color: ${tema.bordaHover};\n  }\n`;\n\nexport const StyledFileLoader = styled.label`\n  ${defaultInput}\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  height: 100px;\n\n  input {\n    display: none;\n  }\n\n  p {\n    text-align: center;\n  }\n`;\n\nexport const ImageContainer = styled.div<{ background?: string }>`\n  align-items: center;\n  background: ${(props: any) => props.background || cor.azulClaro};\n  box-shadow: ${tema.boxShadow};\n  display: flex;\n  flex: 1;\n  height: 100%;\n  justify-content: center;\n  position: relative;\n  padding: 45px;\n`;\n\n// box-shadow: ${tema.boxShadow};\n\nconst imageCommons = `\n  background: ${cor.branco};\n  border-radius: ${tema.borderRadius};\n  box-shadow: -3px -1px 5px rgba(0, 0, 0, 0.25), 0px 4px 4px rgba(0, 0, 0, 0.25);\n  position: absolute;\n`;\n\nexport const ImageDescription = styled.div`\n  ${imageCommons};\n  width: 300px;\n  height: 65px;\n  top: 0;\n  left: 0;\n  transform: rotateZ(-15deg) translateY(65px) translateX(10px);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const ImagePrice = styled.div`\n  ${imageCommons};\n  width: 160px;\n  height: 85px;\n  bottom: 25px;\n  right: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n\n  .de,\n  .por {\n    margin-top: 5px;\n  }\n\n  span,\n  strong {\n    font-size: 1.15rem;\n    margin-left: 10px;\n  }\n\n  strong {\n    font-size: 1.4rem;\n  }\n`;\n","export default class ScrappingTupperwareResources {\n  constructor(public frameSelector: string) {}\n\n  getFrame() {\n    return (\n      document &&\n      document.querySelector &&\n      document.querySelector<HTMLIFrameElement>(this.frameSelector)\n    );\n  }\n\n  getFrameDocument() {\n    const myFrame = this.getFrame();\n\n    if (myFrame) {\n      return myFrame.contentDocument;\n    }\n\n    throw new Error(\"IFrame não foi encontrado!\");\n  }\n\n  getEl(selector: string) {\n    const frameDocument = this.getFrameDocument();\n\n    if (frameDocument) {\n      const el = frameDocument.querySelector(selector);\n\n      if (el) {\n        return el;\n      }\n\n      return null;\n    }\n\n    throw new Error(\"FrameDocument não foi encontrado!\");\n  }\n\n  sendElementAction(\n    selector: string,\n    action: (el: any) => void,\n    errorMessage: string\n  ) {\n    const el = this.getEl(selector);\n\n    if (el) {\n      const el2 = el;\n      action(el2);\n      return true;\n    }\n\n    throw new Error(errorMessage);\n  }\n\n  doLogout() {\n    return this.sendElementAction(\n      '[href=\"Logout.aspx\"]',\n      (el: HTMLLinkElement) => el.click(),\n      \"Botão logout não encontrado!\"\n    );\n  }\n\n  doLogin() {\n    return (\n      this.sendElementAction(\n        \"#ctl00_txtCodigo\",\n        (el: HTMLInputElement) => (el.value = \"163484\"),\n        \"Campo login não entrado!\"\n      ) &&\n      this.sendElementAction(\n        \"#ctl00_txtSenha\",\n        (el: HTMLInputElement) => (el.value = \"mallonew24\"),\n        \"Campo senha não entrado!\"\n      ) &&\n      this.sendElementAction(\n        \"#ctl00_btnEntrar\",\n        (el: HTMLLinkElement) => el.click(),\n        \"Botão entrar não encontrado!\"\n      )\n    );\n  }\n\n  doRedirectToPedidos() {\n    return this.sendElementAction(\n      '[href=\"Pedidos.aspx\"]',\n      (el: HTMLLinkElement) => el.click(),\n      \"Botão para pedidos não encontrado!\"\n    );\n  }\n\n  doOpenOfertas() {\n    return this.sendElementAction(\n      \"#ctl00_ContentPlaceHolder1_btnOfertasH\",\n      (el: HTMLLinkElement) => el.click(),\n      \"Botão de ofertas não encontrado!\"\n    );\n  }\n\n  doExtract() {\n    const frameDocument = this.getFrameDocument();\n\n    const selector = \"#ctl00_ContentPlaceHolder1_panProdutosD table tbody\";\n\n    const allTbody = Array.from(\n      frameDocument!.querySelectorAll<HTMLTableSectionElement>(selector)\n    );\n\n    if (!allTbody || !allTbody.length) {\n      throw new Error(\"Nenhuma lista de produtos encontrada!\");\n    }\n\n    const tbodyArray = allTbody\n      // .filter(Boolean)\n      // .map(i => i.querySelector(\"tbody\"))\n      .filter(Boolean)\n      .filter(i => i!.childElementCount > 2) as HTMLTableSectionElement[];\n\n    if (!tbodyArray || !tbodyArray.length) {\n      throw new Error(\"Nenhum produto na lista foi encontrado!\");\n    }\n\n    const extractInfo = tbodyArray.map(tbody => {\n      const texts = Array.from(tbody.querySelectorAll<HTMLSpanElement>(\"span\"))\n        .filter(Boolean)\n        .map(span => span.innerHTML);\n\n      const img = tbody.querySelector(\"img\");\n\n      return {\n        img: img ? new URL(img.src).pathname : null,\n        texts\n      };\n    });\n\n    return extractInfo;\n  }\n\n  start(handleError?: Function) {\n    return new Promise<any[]>((resolve, reject) => {\n      const steps: Function[] = [\n        this.doLogout,\n        this.doLogout,\n        this.doLogin,\n        this.doRedirectToPedidos,\n        this.doOpenOfertas,\n        this.doExtract\n      ];\n      let currentStep = 0;\n      let stepResponses: any[] = [];\n\n      const interval = setInterval(() => {\n        try {\n          if (currentStep === steps.length) {\n            clearInterval(interval);\n            resolve(stepResponses);\n            return;\n          }\n\n          const stepResponse = steps[currentStep].call(this);\n\n          if (stepResponse) {\n            stepResponses.push(stepResponse);\n            currentStep++;\n          }\n        } catch (err) {\n          if (handleError) {\n            handleError({\n              err,\n              reject,\n              interval,\n              resolve\n            });\n            return;\n          }\n          clearInterval(interval);\n          reject(err);\n        }\n      }, 1500);\n    });\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport {\n  ApplicationContainer,\n  ApplicationHeader,\n  ApplicationBody\n} from \"./styles\";\n\nconst Imagem = styled.img`\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport default function List({\n  list = [],\n  setSelected\n}: {\n  list?: any[];\n  setSelected: any;\n}) {\n  return (\n    <ApplicationContainer>\n      <ApplicationHeader>Tupperware</ApplicationHeader>\n\n      <ApplicationBody\n        style={{\n          flexWrap: \"wrap\"\n        }}\n      >\n        {list.map((item, index) => (\n          <span\n            style={{\n              display: \"inline-block\",\n              margin: 10,\n              cursor: \"pointer\"\n            }}\n            key={index}\n            onClick={() => {\n              setSelected(item);\n            }}\n          >\n            <Imagem\n              style={{\n                width: 250,\n                height: 250\n              }}\n              src={`http://pedidos.tupperware.com.br/${item.img}`}\n            />\n            {item.texts.map((text: any, index2: any) =>\n              text ? (\n                <div key={index2} dangerouslySetInnerHTML={{ __html: text }} />\n              ) : null\n            )}\n          </span>\n        ))}\n      </ApplicationBody>\n    </ApplicationContainer>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport { StyledFileLoader } from \"./styles\";\n\nexport interface FileResponse {\n  base64: string;\n  name: string;\n}\n\nexport default function FileLoader({\n  onChange\n}: {\n  onChange: (fileResponse: FileResponse) => void;\n}) {\n  const [file, setFile] = useState();\n  const [fileName, setFileName] = useState();\n  const ref = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (!file) {\n      setFileName(null);\n      return;\n    }\n    setFileName(file.name);\n\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file);\n\n    reader.onload = () => {\n      if (!reader.result || typeof reader.result !== \"string\") return;\n\n      onChange({\n        base64: reader.result,\n        name: file.name\n      });\n    };\n  }, [file, onChange]);\n\n  return (\n    <StyledFileLoader\n      className=\"mt-2\"\n      onDragOver={(event: any) => event.preventDefault()}\n      onDragEnter={(event: any) => event.preventDefault()}\n      onDrop={async (event: any) => {\n        event.preventDefault();\n        if (!event.dataTransfer || !event.dataTransfer.files) return;\n\n        setFile(event.dataTransfer.files[0]);\n      }}\n      onKeyUp={(event: any) => {\n        if (ref && ref.current && event.which === 13) ref.current.click();\n      }}\n      tabIndex={0}\n    >\n      {fileName ? (\n        <p>fileName</p>\n      ) : (\n        <>\n          <p>\n            Arraste sua imagem aqui <br />\n            ou\n            <br />\n            Clique para selecionar\n          </p>\n        </>\n      )}\n\n      <input\n        ref={ref}\n        type=\"file\"\n        onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n          if (!event.target || !event.target.files) return;\n\n          setFile(event.target.files[0]);\n        }}\n      />\n    </StyledFileLoader>\n  );\n}\n","import * as React from \"react\";\nimport domToImage from \"dom-to-image\";\nimport styled from \"styled-components\";\nimport download from \"downloadjs\";\n\nimport {\n  ApplicationContainer,\n  ApplicationHeader,\n  ApplicationBody,\n  Button,\n  ImageContainer,\n  ImageDescription,\n  ImagePrice,\n  Input,\n  Textarea,\n  P,\n  cor\n} from \"./styles\";\n\nimport FileLoader, { FileResponse } from \"./FileLoader\";\n\nconst { useState, useRef, useEffect, useCallback } = React;\n\nconst Imagem = styled.img<{ img: boolean }>`\n  ${props => (props.img ? \"height: 100%;\" : \"500px\")}\n  ${props => (props.img ? \"width: 100%;\" : \"\")}\n  ${props => (props.img ? \"object-fit: contain;\" : \"\")}\n`;\n\nconst PROXY_URL = \"https://dsouj.sse.codesandbox.io/proxy\";\n\nfunction isValidUrl(url: string) {\n  const pattern = new RegExp(\n    \"^(https?:\\\\/\\\\/)?\" + // protocol\n    \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\" + // domain name\n    \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" + // OR ip (v4) address\n    \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" + // port and path\n    \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" + // query string\n      \"(\\\\#[-a-z\\\\d_]*)?$\",\n    \"i\"\n  ); // fragment locator\n  return !!pattern.test(url);\n}\n\nfunction getProxyUrl(url: string) {\n  if (isValidUrl(url)) {\n    return `${PROXY_URL}?url=${url}`;\n  }\n\n  return url;\n}\n\nexport default function App({\n  selected,\n  setSelected\n}: {\n  selected: any;\n  setSelected: any;\n}) {\n  console.log(selected);\n  const [description, setDescription] = useState(\n    selected ? selected.texts[1] + \" \" + selected.texts[2] : \"\"\n  );\n  const ref = useRef<HTMLDivElement>(null);\n  const refImg = useRef<HTMLImageElement>(null);\n  const [file, setFile] = useState<FileResponse>();\n  const [url, setUrl] = useState<string>(\"\");\n  const [img, setImg] = useState<boolean>(true);\n  const [de, setDe] = useState<string>(selected ? selected.texts[4] : \"\");\n  const [por, setPor] = useState<string>(\n    selected ? \"R$ \" + selected.texts[6] : \"\"\n  );\n  const [image, setImage] = useState<string | null>(\n    selected ? selected.img : undefined\n  );\n  console.log(image);\n  const [bg, setBg] = useState<string | undefined>();\n  const pasteHandle = useCallback(\n    event => {\n      const items = [...event.clipboardData.items];\n      const item = items.find(({ kind }) => kind === \"file\");\n\n      if (item !== undefined && item.kind === \"file\") {\n        const blob = item.getAsFile();\n        const reader = new FileReader();\n        reader.onload = (event: any) => {\n          if (\n            !event.target ||\n            !event.target.result ||\n            typeof event.target.result !== \"string\"\n          )\n            return;\n          setUrl(event.target.result);\n        };\n        reader.readAsDataURL(blob);\n      }\n    },\n    [setUrl]\n  );\n\n  useEffect(() => {\n    if (url) {\n      setImage(getProxyUrl(url));\n      return;\n    }\n\n    if (file && file.base64) {\n      setImage(file.base64);\n      return;\n    }\n\n    if (selected) {\n      setImage(selected.img);\n      return;\n    }\n    setImage(null);\n  }, [url, file]);\n\n  useEffect(() => {\n    window.addEventListener(\"paste\", pasteHandle);\n\n    return () => window.removeEventListener(\"paste\", pasteHandle);\n  }, [pasteHandle]);\n\n  return (\n    <ApplicationContainer>\n      <ApplicationHeader>\n        Tupperware\n        <button onClick={() => setSelected(null)}>Voltar</button>\n        <button onClick={() => setImg(!img)}>Mudar imagem</button>\n      </ApplicationHeader>\n\n      <ApplicationBody>\n        <div style={{ maxWidth: 500, width: 500, marginRight: 25 }}>\n          <FileLoader onChange={setFile} />\n          <Input\n            placeholder=\"Endereço web da imagem\"\n            value={url}\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n              setUrl(event.target.value)\n            }\n          />\n\n          <div style={{ display: \"flex\" }}>\n            <Input\n              placeholder=\"R$ - De\"\n              value={de}\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                setDe(event.target.value)\n              }\n            />\n\n            <Input\n              placeholder=\"R$ - Por\"\n              value={por}\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                setPor(event.target.value)\n              }\n            />\n          </div>\n\n          <Textarea\n            placeholder=\"Detalhes do produto\"\n            value={description}\n            onChange={(event: React.ChangeEvent<HTMLTextAreaElement>) =>\n              setDescription(event.target.value)\n            }\n          />\n\n          <P>Mude sua cor de fundo</P>\n\n          <div style={{ display: \"flex\" }}>\n            <Button background={cor.rosa} onClick={() => setBg(cor.rosa)} />\n            <Button\n              background={cor.rosaClaro}\n              onClick={() => setBg(cor.rosaClaro)}\n            />\n            <Button background={cor.azul} onClick={() => setBg(cor.azul)} />\n            <Button\n              background={cor.azulClaro}\n              onClick={() => setBg(cor.azulClaro)}\n            />\n            <Button background={cor.branco} onClick={() => setBg(cor.branco)} />\n          </div>\n          <Button\n            onClick={async () => {\n              if (!ref.current) return;\n\n              try {\n                const data = await domToImage.toPng(ref.current);\n                download(data, \"produto.png\");\n              } catch (err) {\n                console.log(\"Erro\");\n              }\n            }}\n          >\n            Download\n          </Button>\n        </div>\n\n        <div\n          ref={ref}\n          style={{\n            flex: 1,\n            position: \"relative\",\n            display: \"inline-block\"\n          }}\n        >\n          <ImageContainer background={bg}>\n            <ImageDescription>\n              <pre\n                style={{\n                  position: \"absolute\",\n                  top: 10,\n                  left: 10\n                }}\n              >\n                <strong>\n                  <p>{description}</p>\n                </strong>\n              </pre>\n            </ImageDescription>\n            <ImagePrice>\n              {de && (\n                <div className=\"de\">\n                  De: <span>{de}</span>\n                </div>\n              )}\n\n              {por && (\n                <div className=\"por\">\n                  Por: <strong>{por}</strong>\n                </div>\n              )}\n            </ImagePrice>\n            {image && (\n              <Imagem\n                ref={(...args) => console.log(args)}\n                img={img}\n                src={image}\n                alt=\"\"\n              />\n            )}\n          </ImageContainer>\n        </div>\n      </ApplicationBody>\n    </ApplicationContainer>\n  );\n}\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\nimport \"./styles.css\";\n\nimport Extract from \"./Extract\";\n\nconst rootElement = document.getElementById(\"root\");\nrender(<Extract />, rootElement);\n","import React from \"react\";\nimport {\n  ApplicationContainer,\n  ApplicationHeader,\n  ApplicationBody\n} from \"./styles\";\nimport ScrappingTupperware from \"./ScrappingTupperwareService\";\n\nimport List from \"./List\";\nimport App from \"./App\";\n\nexport default function Extract() {\n  const [loading, setLoading] = React.useState<string | null>(\" \");\n  const [list, setList] = React.useState<any[] | undefined>();\n  const [selected, setSelected] = React.useState<any>();\n\n  React.useEffect(() => {\n    new ScrappingTupperware(\"#myFrame\")\n      .start(({ err }: any) => {\n        setLoading(err.message);\n      })\n      .then(responses => {\n        setList(responses[5]);\n        setLoading(null);\n      });\n  }, []);\n\n  if (loading || !list) {\n    return (\n      <ApplicationContainer>\n        <ApplicationHeader>Tupperware</ApplicationHeader>\n\n        <ApplicationBody style={{ flexDirection: \"column\" }}>\n          <div>{loading}</div>\n          <iframe\n            id=\"myFrame\"\n            style={{ flex: 1, width: \"100%\" }}\n            src=\"/cav/default.aspx\"\n          ></iframe>\n        </ApplicationBody>\n      </ApplicationContainer>\n    );\n  }\n\n  if (selected) {\n    return <App selected={selected} setSelected={setSelected} />;\n  }\n\n  return <List list={list} setSelected={setSelected} />;\n}\n"],"sourceRoot":""}